namespace Raspoznavayka {
    typedef std::int8_t arrow_t;
    typedef arrow_t ArrowType;
    const std::int8_t arrow_up = 1;
    const std::int8_t arrow_equal = 0;
    const std::int8_t arrow_down = -1;
}

class CHash {
public:
    CHash();
    /*
     * A hash can be made of a CMelody or an vector< interval_t >
     * If a template is needed, it should be done in CMelody,
     * or  as a template vector< interval_t > function
     * So this one is _unnecessary_
.......... .....  .... ........... .............................................
.......... ..... ............ .......,~~::,.....................................
.................................,:=?$88O$7~~=~,,...  . .. ..    . ...   .......
................................:~??7Z$I++????$I~~,.......................... ..
...........................,,:=?I?ZDZ$$ZZ$7I+~+I7~:.............................
...................,,:~~++Z+IO7II7$7OZO$7$ZOO$ZZ87+~............................
............,,:~~=+I???$Z8ZO888$8$IZO$D77Z8DN$8D$?Z7+,..........................
...........,=+??+?II778DD88ZZOZZIZZZZZZ$Z8NOZD88OD$$Z?=,........................
..........,~=??77$$7O88OODN8$7Z$7?O$$OZ$$Z$OZNZDZ87ZZO?I:.......................
..........:+??I?7777ZZZOZ888ZZO$77$$$OOZO7?I778$ZDO8OIZI$?:.....................
.........:+?II$77$7$7OZ$8OZO$$IZ77$7I$777I==77$ZO887OD7Z7II=,...................
........,=?IIZODOOZ$OZOZ8OO$ID777IZ7IZ77?$=III$I7ODZ$O$OZ$ZZ7~..................
........:?$Z$Z8NN8Z7ZOOO88O$7Z$7$OO77????:II?++?I$78ZZ8$O$8$O$=:................
.......:?$O$$ONDDDDZ$O$OO$Z$7$$I$DZ$I7=+?=~+++=+???$$78Z7ZZDZZ8?=...............
......:?IOOZDDN8D8NOO7$ZI$7I7+$7ZO8I$$=~~?++=II=+I=+I77$ZZZ$N8O87~..............
.....,+7Z8OZOD88$$8$$$$O$77IZ$7ZZZO$=+?==I~=+77?=?~~IZ$$$$8ZZDDD87=.............
.....=78OZZ$8ZO$O8O$ZZ7Z8I7$+I+$$877?I?7~I=7=IZ?+=~~=?O7$7ZZON888Z$~............
....~?O$O77$8OZZZOZ$$77Z8+$?77+77O7I?7$?~$=??I$+=++==+77??7I7Z8DDZZ$~...........
...:=ZZO8O$ODO8DZZ77+$$Z8?7???$IZ$77+ZI7?7?7?7$+?=+=:~=$$I7O$IZD8OOZ?:..........
...=$OODO$IZ88ZD$Z+?=I7$$?=++?$7$I77IO$????77O7=+~+?,,~?Z?+$$?$ZDNOO8?, ........
..~$O$ZOO$8$OD7Z77=?I=77$?::+7?7I7II$??+????+$+=::::,.,,?O=:ZO+ODNDDO8+.........
.,+ZZ78ZD$Z$O$ZI7I7?$=7OI+::=7I==??+=I=?7I?7+I+,~~,,,..,:+O:~87+8DND8NI:........
.,=8ZIOZ$78Z8ZZ7?:?==IOI~.,+$?+=:~=:=~==7==+:7=:,....,...:+Z~+O$IDNDND$~........
.,+O8OZO77ZN8ZZI?7,$~ZI?:.::===,,:~,:,~=?~~=,~:::.........:+I$~O78DNNN8+ .......
.,+ZZ$O87ODMOOZ+I+O,Z7~=,:=~:~,:,,,,.,,:+~:~,,+,,,,........,+~$=8+8DNN8?........
.:?8878OZ8DM8ZZ8I?=O?=.:,::,:::,.,,.,:,:~::,,,,,~:,,........,:+O+DZDDND?,.......
.:I8D8D88NNND8Z8I+O:....,:,.,,,.,.,,,,~:=:=,,.,,:,,,.,,.......,:?$O8NDN7:.......
.:78N8NDNMMD8Z7??+=,...~:,,,,+......,,.:~:,,,...,,,:,..........,:?ZODMDZ=.......
.:I8NDNNDNMNDD8?=:,.,~:,.,.,I.,.,.....,,=:,,,......,:,...........,~I8NN8+.......
..+ONDD8DNNDD8?=:,,,,......+,,.......,,,+,,........,,............,:=7MNDI.......
..:7DNMNNMNNN$?:,,,,,....,~....,........+,,......................,,=+MDN7,......
...=OMMNNMNN8I~:,:,,,...,~.,......,.....:,.......................,,~+DMN$:......
  .,IDMNNMNNO+:,,,,,...,~...............,,.......................,,~~8NNZ+......
....~$MNNMMDO=:,,,,,,..+................,,......................,,,:=?8?$+......
.....?8NNMMNO=::,,:,,,+....,.............:......,...........,.,:=?7II~D?~.......
......:DNMMMD~:,,,,:,+.,...,...........,.,..,.,,,,,,,,,,,,,,:=+77IZ77?Z$:...... 
.....:I?$NNN8~::,,,,:,..,,,.,.,,....,,,:,,:,,:,,,,,,,,:::~+I7OOO$?+?I?I=7:.... .
.....,?I+8DID?,,,,,:,,~=+++=~::,,:::::,::::,::~:::::~~==7$Z888I???I++?~,$I~.....
......=??+I7=8,,,,,=+I7777$Z$$77I?+===~~~~=?~~~~~~~=++77$OODNO88O$?I+?$I+?+,....
 .....,=::=7$$?,,,~=?+=~==?7$888OZOZ$I???+?+======+?II$ZDMMND8?=?$7??ONZ7$I... .
 .. ...,:+?$OIZ?::~~~:~~~=++???I$ZZZZZ$$77I?+++++?I77$ZZO+7ZDO~~II+~ZN8Z7?I.....
........,?77OZI7I+=~~=+?$$+$8DNO8NOOO$7$$$77?++??77=:I$7$?ZDZ=+?+==:8OO~+=,.....
 ........~II$ZI~?II++?I77$$:ZD=:+?~~?O88UNNECESSARY7+?+=+II7II?++==,O7==,,......
..........:II8?$~~=77ONDOZI=:O8D8Z=+I?+==+?IDD?~=?Z8II??II7III?++=~:D:.::.....  
..........,,,?$7:~N+:+II==+~=~=+++?II??+=++7DI~,,~+ZO+===+=======~~I+,+.,.......
.............~$7DDN+~,=+++==++??II77II+~~~7I$=...,:+Z?=========~=:,~.:=:........
............,:7ZNON?~:,~+?II?IIIIII+=~~~~~=+?,.....:=?=====+=~:,:~:~~=I,. .... .
............,::$Z,+O+::::====++=~::~~~==~=~I,,.....:~+??+==~~~::,,,:~?I,........
.  ........ ...,I~::+~:::::~=====~~==?=++~7:,,.....::===~~:~~~:::,:~+OI,........
................=7::::,,::::~=++==~~~+++++:,,,....,::~+==~=====~~~=++Z?.........
................:7=:,,::,,,,,:=~=~~~~~~==::,,,,...,::~=?++++++===+++I$=.. .... .
.  ..............+Z~::,,,,,,,,:~=~~======:~::,,....,:~~~+IIII??????+Z?,.........
 . ..............+Z7=~::::,,::::~===++++=::,:,,...,,:::::???III???II$=..........
.. ..............+OOI=~~~:::~~~~===+???II,..:,..,,,::~~~+I?+I7I?+IIZI...........
 . ..............=O8D++=~~~~~~===++?IIII?::,::,,::::~~+II?+?7OOI?7O$~...........
................ =$ZD8+++++=+++++?I77II++?7$?~~~:~~==?777I77ODD8$Z8?.........  .
 . ..............:=IZ8O+++??????I7777I+==++?+$$?+???7ZZ$8OOOO88ZZD7~............
.................. ,~?O$+++++??I777$7I+???+II7$ZZ$$OOOO$OOZ$OD8ZD8?.............
 . ................. .+ZZ???+??+?7ZZZ77II77ZZ7ZOO888O$Z$Z$7??7$ONO=  . ... ..  .
.  ....................~787II??+I$8DDOOII7OZ$I7$$7$Z7$Z$$7???7DNN7:.............
    ....................~7OO$77??O8888OZOZZ$$7$ZZZZ8D8Z7$??I7ZNN8?, ............
 . ......................:?Z8ZZ$77ZOZ7???I7I77ZZZ$O$Z7$$I?I$ZNNN8? . ...........
   ........................~??Z$$$Z$II++++?7777777$$$$$7777ODMMNZ=.... .........
 . ...........................~?8ZZZZI?????I77$777$ZOO$777ODNMNZ+, .............
.. ............................~$D8ZZO$7I??II7ZZO888$ZZ7$Z8DMO?:.. . ...........
   ............................,INND88OOI77II77ZO8OOZZ$O88DD7~.. ...............
 . .............................?ONNNND8Z$Z$7$$$ZO8ZZOO8DNM$~...................
 . .............................~ZDMNNMNNDOOZOZZO8OO88NMMMD?........ ...........
 . .............................,+$ODMMNMNNNNDD8DNNMNMMMNZI~.......... .........
 . ................................:=?$ODNMNMNMNNMMMMMD$?:....... ..............
 . ....................................,~+I$88OZZ$77?+=,......... ..............
 . .........................................,:,,.................... . .........
 . ......................................... ...................................
    template< typename CGeneralMelody >
        CHash( const CGeneralMelody& ); // CHash constructor for all Melody classes
    */
    CHash( const std::vector< Raspoznavayka::interval_t >& );
    CHash( const CMelody& melody );
    const std::vector< Raspoznavayka::arrow_t >& getHash() const;
    Raspoznavayka::mel_size_t getLength() const;
protected:
    void setHash( const std::vector< Raspoznavayka::interval_t >& );
    void setHash( const std::vector< Raspoznavayka::arrow_t >& );
    std::vector< Raspoznavayka::arrow_t > arrows;
};

